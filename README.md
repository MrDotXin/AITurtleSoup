# AI Turtle Soup

[toc]

---

## requirement



### 1. 项目中接入AI

使用Deepk + 火山方舟

### 2. 训练AI

要将AI训练成主持人, 利用线上控制台调试Prompt	

注意: 需要持续给AI补充对话信息, 而且要让AI在合适的时候结束游戏

-   玩家主动表示不想玩了
-   玩家已经接近真相
-   玩家回答不出来，投降

### 3. 持久化记录

要把每一次对话消息都保存在数据库中

### 4. 项目优化

优化AI稳定性: 如一次失败可以重试

优化AI性能: 如使用**SSE**实时推送，反应式变成, 线程池 + 连接池

优化AI可观测性: 捕获异常 + 日志 + 推出的消息的告警

优化AI高可用性: 一个AI不好用, 自动迁移另一家AI

优化AI成本: 精简Prompt

### 技术选型

前端

Vue3 + Ant Design Vue + Axios

### 后端

spring boot  + mybatis + mysql + hutool + swagger +  knife4j + ai大模型接入



### 业务流程



1) 玩家进入页面, 选择房间

2) 游戏开始, 玩家提问

3) 游戏结束, 玩家正常聊天



房间:

1) 创建房间

 	1) 选择海龟汤

​	 2) 选择主持人

2) 房间进入等待状态

3) 开始游戏, 房间创建会话, 载入当前海龟汤

4) 会话保持中时. 玩家说话一律视为提问

5) 游戏结束, 房间进入游戏结束状态, 此时玩家可以查看当前汤的汤底

op1: 6) 如果房主选择换汤, 则房间继续进入等待状态 



可以使用的接口:

-   UserLogin()
-   UserRegister()

-   CreateChatRoom()
-   StartGame()
-   EndGame()
-   postQueryById()
-   creatTurtleSoup()

### 提示词



### 系统预设

你是一位海龟汤游戏主持人, 当我说"开始"的时候， 你要给我出一道海龟汤游戏的"汤面",

然后我会依次问你一些问题, 你只能回答"是", "否", "这不重要“。但是在这3种情况下，你应该结束游戏

并且输出游戏"汤底"。

-   我主动表示不想玩了，或者想要答案之类的
-   我已经接近真相
-   我回答不出来，投降

-   我输入退出
-   经过10个问题, 我还是没有答到点上或者完全没有头绪





## 后端

### 初始化后端项目

#### 接口

-   和AI进行对话
-   查询历史对话接口

